var E=Object.defineProperty;var v=(i,e,s)=>e in i?E(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var d=(i,e,s)=>v(i,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(t){if(t.ep)return;t.ep=!0;const c=s(t);fetch(t.href,c)}})();class p{constructor(e="",s="",n=!1){this._id=e,this._item=s,this._checked=n}get id(){return this._id}set id(e){this._id=e}get item(){return this._item}set item(e){this._item=e}get checked(){return this._checked}set checked(e){this._checked=e}}const o=class o{constructor(e=[]){this._list=e}get list(){return this._list}load(){const e=localStorage.getItem("myList");if(typeof e!="string")return;JSON.parse(e).forEach(n=>{const t=new p(n._id,n._item,n._checked);o.instance.addItem(t)})}save(){localStorage.setItem("myList",JSON.stringify(this._list))}clearList(){this._list=[],this.save()}addItem(e){this._list.push(e),this.save()}removeItem(e){this._list=this._list.filter(s=>s.id!==e),this.save()}};d(o,"instance",new o);let a=o;const l=class l{constructor(){d(this,"ul");this.ul=document.getElementById("listItems")}clear(){this.ul.innerHTML=""}render(e){this.clear(),e.list.forEach(s=>{const n=document.createElement("li");n.className="item";const t=document.createElement("input");t.type="checkbox",t.id="item.id",t.tabIndex=0,t.checked=s.checked,n.append(t),t.addEventListener("change",()=>{s.checked=!s.checked,e.save()});const c=document.createElement("label");c.htmlFor=s.id,c.textContent=s.item,n.append(c);const r=document.createElement("button");r.className="button",r.textContent="X",n.append(r),r.addEventListener("click",()=>{e.removeItem(s.id),this.render(e)}),this.ul.append(n)})}};d(l,"instance",new l);let m=l;const L=()=>{const i=a.instance,e=m.instance,s=document.getElementById("itemEntryForm"),n=document.getElementById("newItem"),t=document.getElementById("addItem"),c=document.getElementById("clearItemsButton"),r=document.getElementById("themeToggle"),h=f=>{f.preventDefault();const g=n.value.trim();if(!g.length)return;const y=i.list.length?parseInt(i.list[i.list.length-1].id)+1:1,I=new p(y.toString(),g);i.addItem(I),e.render(i),n.value=""};s.addEventListener("submit",h),t.addEventListener("click",h),c.addEventListener("click",()=>{i.clearList(),e.clear()}),r.addEventListener("click",()=>{document.body.classList.toggle("light-theme"),localStorage.setItem("theme",document.body.classList.contains("light-theme")?"light":"dark")});const u=localStorage.getItem("theme");(u==="light"||!u&&window.matchMedia("(prefers-color-scheme: light)").matches)&&document.body.classList.add("light-theme"),i.load(),e.render(i)};document.addEventListener("DOMContentLoaded",L);
